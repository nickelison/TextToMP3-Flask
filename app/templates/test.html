{% extends "layout.html" %}
{% block content %}
<div class="row" id="home">
  <div class="col-md-12 mx-auto">

    <form class="container mx-auto pt-2 pb-3 ps-0 pe-0" action="" method="POST" role="form">
      {{ form.hidden_tag() }}
      <fieldset class="form-group">
        <legend class="border-bottom mb-3">Add Name</legend>

        {{ form.fname.label(class="form-control-label mt-2 required") }}
        {% if form.fname.errors %}
          {{ form.fname(class="form-control is-invalid") }}
          <div class="invalid-feedback">
            {% for error in form.fname.errors %}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% else %}
          {{ form.fname(class="form-control", tabindex="1") }}
        {% endif %}

        {{ form.lname.label(class="form-control-label mt-2 required") }}
        {% if form.lname.errors %}
          {{ form.lname(class="form-control is-invalid") }}
          <div class="invalid-feedback">
            {% for error in form.lname.errors %}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% else %}
          {{ form.lname(class="form-control", tabindex="1") }}
        {% endif %}
      </fieldset>

      <div class="d-flex align-items-center mt-3">
        {{ form.submit(class="btn btn-primary p-2 flex-grow-1", tabindex="1") }}
      </div>
    </form>



    <table class="table table-dark mt-3">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        {% for name in names %}
        <tr id="row-{{ name.id }}">
          <th scope="row">{{ name.id }}</th>
          <td>{{ name.fname }}</td>
          <td>{{ name.lname }}</td>
          <td><a class="btn btn-danger" onclick="deleteName('{{ name.id }}')">Delete</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script src="{{ url_for('static', filename='js/index.js', type='text/javascript') }}"></script>

{% endblock content %}
